import{u as qt,a as kt,v as Et,g as ee,b as Ue,c as St,d as Be,e as Bt,Q as Ce,f as Ct}from"./QBtn-BuiM6Nd7.js";import{c as z,a as b,h as x,g as $,r as S,i as le,s as Ge,P as Tt,p as Te,b as _e,n as N,w as B,o as F,d as M,e as _t,l as j,f as Le,j as Xe,k as Lt,T as Pt,m as Ye,q as be,t as zt,u as $t,v as Je,x as Ze,y as et,z as V,A as pe,B as tt,C as Ht,D as Y,E as Mt,F as Rt,G as Pe,H as k,I as At,J as ze,K as E,L as R,M as U,N as Wt,O as $e}from"./index-qIt4-3xa.js";import{h as D,a as ot,b as Qt}from"./render-DjSmuU3c.js";import{B as nt}from"./structure-n7zgt0z2.js";const de=z({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const o=b(()=>parseInt(e.lines,10)),t=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),l=b(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>x("div",{style:l.value,class:t.value},D(n.default))}}),fe=z({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:n}){const o=b(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>x("div",{class:o.value},D(n.default))}}),ie={dark:{type:Boolean,default:null}};function ae(e,n){return b(()=>e.dark===null?n.dark.isActive:e.dark)}const ve=z({name:"QItem",props:{...ie,...qt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:n,emit:o}){const{proxy:{$q:t}}=$(),l=ae(e,t),{hasLink:i,linkAttrs:a,linkClass:d,linkTag:c,navigateOnClick:u}=kt(),f=S(null),m=S(null),y=b(()=>e.clickable===!0||i.value===!0||e.tag==="label"),r=b(()=>e.disable!==!0&&y.value===!0),h=b(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?d.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(r.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),L=b(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function _(v){r.value===!0&&(m.value!==null&&v.qAvoidFocus!==!0&&(v.qKeyEvent!==!0&&document.activeElement===f.value?m.value.focus():document.activeElement===m.value&&f.value.focus()),u(v))}function C(v){if(r.value===!0&&le(v,[13,32])===!0){Ge(v),v.qKeyEvent=!0;const g=new MouseEvent("click",v);g.qKeyEvent=!0,f.value.dispatchEvent(g)}o("keyup",v)}function s(){const v=ot(n.default,[]);return r.value===!0&&v.unshift(x("div",{class:"q-focus-helper",tabindex:-1,ref:m})),v}return()=>{const v={ref:f,class:h.value,style:L.value,role:"listitem",onClick:_,onKeyup:C};return r.value===!0?(v.tabindex=e.tabindex||"0",Object.assign(v,a.value)):y.value===!0&&(v["aria-disabled"]="true"),x(c.value,v,s())}}}),Ft=["ul","ol"],Dt=z({name:"QList",props:{...ie,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:n}){const o=$(),t=ae(e,o.proxy.$q),l=b(()=>Ft.includes(e.tag)?null:"list"),i=b(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>x(e.tag,{class:i.value,role:l.value},D(n.default))}});function Vt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Tt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Ot={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Nt={...Ot,contextMenu:Boolean};function jt({showing:e,avoidEmit:n,configureAnchorEl:o}){const{props:t,proxy:l,emit:i}=$(),a=S(null);let d=null;function c(r){return a.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const u={};o===void 0&&(Object.assign(u,{hide(r){l.hide(r)},toggle(r){l.toggle(r),r.qAnchorHandled=!0},toggleKey(r){le(r,13)===!0&&u.toggle(r)},contextClick(r){l.hide(r),Te(r),N(()=>{l.show(r),r.qAnchorHandled=!0})},prevent:Te,mobileTouch(r){if(u.mobileCleanup(r),c(r)!==!0)return;l.hide(r),a.value.classList.add("non-selectable");const h=r.target;_e(u,"anchor",[[h,"touchmove","mobileCleanup","passive"],[h,"touchend","mobileCleanup","passive"],[h,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{d=null,l.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){a.value.classList.remove("non-selectable"),d!==null&&(clearTimeout(d),d=null),e.value===!0&&r!==void 0&&Vt()}}),o=function(r=t.contextMenu){if(t.noParentEvent===!0||a.value===null)return;let h;r===!0?l.$q.platform.is.mobile===!0?h=[[a.value,"touchstart","mobileTouch","passive"]]:h=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:h=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],_e(u,"anchor",h)});function f(){_t(u,"anchor")}function m(r){for(a.value=r;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;o()}function y(){if(t.target===!1||t.target===""||l.$el.parentNode===null)a.value=null;else if(t.target===!0)m(l.$el.parentNode);else{let r=t.target;if(typeof t.target=="string")try{r=document.querySelector(t.target)}catch{r=void 0}r!=null?(a.value=r.$el||r,o()):(a.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return B(()=>t.contextMenu,r=>{a.value!==null&&(f(),o(r))}),B(()=>t.target,()=>{a.value!==null&&f(),y()}),B(()=>t.noParentEvent,r=>{a.value!==null&&(r===!0?f():o())}),F(()=>{y(),n!==!0&&t.modelValue===!0&&a.value===null&&i("update:modelValue",!1)}),M(()=>{d!==null&&clearTimeout(d),f()}),{anchorEl:a,canShow:c,anchorEvents:u}}function Kt(e,n){const o=S(null);let t;function l(d,c){const u=`${c!==void 0?"add":"remove"}EventListener`,f=c!==void 0?c:t;d!==window&&d[u]("scroll",f,j.passive),window[u]("scroll",f,j.passive),t=c}function i(){o.value!==null&&(l(o.value),o.value=null)}const a=B(()=>e.noParentEvent,()=>{o.value!==null&&(i(),n())});return M(a),{localScrollTarget:o,unconfigureScrollTarget:i,changeScrollEvent:l}}const It={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Ut=["beforeShow","show","beforeHide","hide"];function Gt({showing:e,canShow:n,hideOnRouteChange:o,handleShow:t,handleHide:l,processOnMount:i}){const a=$(),{props:d,emit:c,proxy:u}=a;let f;function m(s){e.value===!0?h(s):y(s)}function y(s){if(d.disable===!0||s?.qAnchorHandled===!0||n!==void 0&&n(s)!==!0)return;const v=d["onUpdate:modelValue"]!==void 0;v===!0&&(c("update:modelValue",!0),f=s,N(()=>{f===s&&(f=void 0)})),(d.modelValue===null||v===!1)&&r(s)}function r(s){e.value!==!0&&(e.value=!0,c("beforeShow",s),t!==void 0?t(s):c("show",s))}function h(s){if(d.disable===!0)return;const v=d["onUpdate:modelValue"]!==void 0;v===!0&&(c("update:modelValue",!1),f=s,N(()=>{f===s&&(f=void 0)})),(d.modelValue===null||v===!1)&&L(s)}function L(s){e.value!==!1&&(e.value=!1,c("beforeHide",s),l!==void 0?l(s):c("hide",s))}function _(s){d.disable===!0&&s===!0?d["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!1):s===!0!==e.value&&(s===!0?r:L)(f)}B(()=>d.modelValue,_),o!==void 0&&Et(a)===!0&&B(()=>u.$route.fullPath,()=>{o.value===!0&&e.value===!0&&h()}),F(()=>{_(d.modelValue)});const C={show:y,hide:h,toggle:m};return Object.assign(u,C),C}let G=[],X=[];function lt(e){X=X.filter(n=>n!==e)}function Xt(e){lt(e),X.push(e)}function He(e){lt(e),X.length===0&&G.length!==0&&(G[G.length-1](),G=[])}function Yt(e){X.length===0?e():G.push(e)}let Jt=1,Zt=document.body;function eo(e,n){const o=document.createElement("div");if(o.id=`q-portal--${n}--${Jt++}`,Le.globalNodes!==void 0){const t=Le.globalNodes.class;t!==void 0&&(o.className=t)}return Zt.appendChild(o),o}function to(e){e.remove()}const O=[];function oo(e){return O.find(n=>n.contentEl!==null&&n.contentEl.contains(e))}function it(e,n){do{if(e.$options.name==="QMenu"){if(e.hide(n),e.$props.separateClosePopup===!0)return ee(e)}else if(e.__qPortal===!0){const o=ee(e);return o?.$options.name==="QPopupProxy"?(e.hide(n),o):e}e=ee(e)}while(e!=null)}function no(e,n,o){for(;o!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(o--,e.$options.name==="QMenu"){e=it(e,n);continue}e.hide(n)}e=ee(e)}}const lo=z({name:"QPortal",setup(e,{slots:n}){return()=>n.default()}});function io(e,n,o,t){const l=S(!1),i=S(!1);let a=null;const d={},c=t==="dialog";function u(m){if(m===!0){He(d),i.value=!0;return}i.value=!1,l.value===!1&&(a===null&&(a=eo(!1,t)),l.value=!0,O.push(e.proxy),Xt(d))}function f(m){if(i.value=!1,m!==!0)return;He(d),l.value=!1;const y=O.indexOf(e.proxy);y!==-1&&O.splice(y,1),a!==null&&(to(a),a=null)}return Xe(()=>{f(!0)}),e.proxy.__qPortal=!0,Lt(e.proxy,"contentEl",()=>n.value),{showPortal:u,hidePortal:f,portalIsActive:l,portalIsAccessible:i,renderPortal:()=>c===!0?o():l.value===!0?[x(Pt,{to:a},x(lo,o))]:void 0}}const ao={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ro(e,n=()=>{},o=()=>{}){return{transitionProps:b(()=>{const t=`q-transition--${e.transitionShow||n()}`,l=`q-transition--${e.transitionHide||o()}`;return{appear:!0,enterFromClass:`${t}-enter-from`,enterActiveClass:`${t}-enter-active`,enterToClass:`${t}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function so(){let e;const n=$();function o(){e=void 0}return Ye(o),M(o),{removeTick:o,registerTick(t){e=t,N(()=>{e===t&&(Ue(n)===!1&&e(),e=void 0)})}}}function uo(){let e=null;const n=$();function o(){e!==null&&(clearTimeout(e),e=null)}return Ye(o),M(o),{removeTimeout:o,registerTimeout(t,l){o(),Ue(n)===!1&&(e=setTimeout(()=>{e=null,t()},l))}}}const at=[Element,String],co=[null,document,document.body,document.scrollingElement,document.documentElement];function rt(e,n){let o=St(n);if(o===void 0){if(e==null)return window;o=e.closest(".scroll,.scroll-y,.overflow-auto")}return co.includes(o)?window:o}function fo(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function vo(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let J;function te(){if(J!==void 0)return J;const e=document.createElement("p"),n=document.createElement("div");Be(e,{width:"100%",height:"200px"}),Be(n,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),n.appendChild(e),document.body.appendChild(n);const o=e.offsetWidth;n.style.overflow="scroll";let t=e.offsetWidth;return o===t&&(t=n.clientWidth),n.remove(),J=o-t,J}const A=[];let K;function ho(e){K=e.keyCode===27}function mo(){K===!0&&(K=!1)}function go(e){K===!0&&(K=!1,le(e,27)===!0&&A[A.length-1](e))}function st(e){window[e]("keydown",ho),window[e]("blur",mo),window[e]("keyup",go),K=!1}function bo(e){be.is.desktop===!0&&(A.push(e),A.length===1&&st("addEventListener"))}function Me(e){const n=A.indexOf(e);n!==-1&&(A.splice(n,1),A.length===0&&st("removeEventListener"))}const W=[];function ut(e){W[W.length-1](e)}function po(e){be.is.desktop===!0&&(W.push(e),W.length===1&&document.body.addEventListener("focusin",ut))}function wo(e){const n=W.indexOf(e);n!==-1&&(W.splice(n,1),W.length===0&&document.body.removeEventListener("focusin",ut))}const{notPassiveCapture:oe}=j,Q=[];function ne(e){const n=e.target;if(n===void 0||n.nodeType===8||n.classList.contains("no-pointer-events")===!0)return;let o=O.length-1;for(;o>=0;){const t=O[o].$;if(t.type.name==="QTooltip"){o--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;o--}for(let t=Q.length-1;t>=0;t--){const l=Q[t];if((l.anchorEl.value===null||l.anchorEl.value.contains(n)===!1)&&(n===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(n)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function yo(e){Q.push(e),Q.length===1&&(document.addEventListener("mousedown",ne,oe),document.addEventListener("touchstart",ne,oe))}function Re(e){const n=Q.findIndex(o=>o===e);n!==-1&&(Q.splice(n,1),Q.length===0&&(document.removeEventListener("mousedown",ne,oe),document.removeEventListener("touchstart",ne,oe)))}let Ae,We;function Qe(e){const n=e.split(" ");return n.length!==2?!1:["top","center","bottom"].includes(n[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(n[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function xo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const me={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{me[`${e}#ltr`]=e,me[`${e}#rtl`]=e});function Fe(e,n){const o=e.split(" ");return{vertical:o[0],horizontal:me[`${o[1]}#${n===!0?"rtl":"ltr"}`]}}function qo(e,n){let{top:o,left:t,right:l,bottom:i,width:a,height:d}=e.getBoundingClientRect();return n!==void 0&&(o-=n[1],t-=n[0],i+=n[1],l+=n[0],a+=n[0],d+=n[1]),{top:o,bottom:i,height:d,left:t,right:l,width:a,middle:t+(l-t)/2,center:o+(i-o)/2}}function ko(e,n,o){let{top:t,left:l}=e.getBoundingClientRect();return t+=n.top,l+=n.left,o!==void 0&&(t+=o[1],l+=o[0]),{top:t,bottom:t+1,height:1,left:l,right:l+1,width:1,middle:l,center:t}}function Eo(e,n){return{top:0,center:n/2,bottom:n,left:0,middle:e/2,right:e}}function De(e,n,o,t){return{top:e[o.vertical]-n[t.vertical],left:e[o.horizontal]-n[t.horizontal]}}function ct(e,n=0){if(e.targetEl===null||e.anchorEl===null||n>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ct(e,n+1)},10);return}const{targetEl:o,offset:t,anchorEl:l,anchorOrigin:i,selfOrigin:a,absoluteOffset:d,fit:c,cover:u,maxHeight:f,maxWidth:m}=e;if(be.is.ios===!0&&window.visualViewport!==void 0){const T=document.body.style,{offsetLeft:q,offsetTop:P}=window.visualViewport;q!==Ae&&(T.setProperty("--q-pe-left",q+"px"),Ae=q),P!==We&&(T.setProperty("--q-pe-top",P+"px"),We=P)}const{scrollLeft:y,scrollTop:r}=o,h=d===void 0?qo(l,u===!0?[0,0]:t):ko(l,d,t);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:m,maxHeight:f,visibility:"visible"});const{offsetWidth:L,offsetHeight:_}=o,{elWidth:C,elHeight:s}=c===!0||u===!0?{elWidth:Math.max(h.width,L),elHeight:u===!0?Math.max(h.height,_):_}:{elWidth:L,elHeight:_};let v={maxWidth:m,maxHeight:f};(c===!0||u===!0)&&(v.minWidth=h.width+"px",u===!0&&(v.minHeight=h.height+"px")),Object.assign(o.style,v);const g=Eo(C,s);let w=De(h,g,i,a);if(d===void 0||t===void 0)he(w,h,g,i,a);else{const{top:T,left:q}=w;he(w,h,g,i,a);let P=!1;if(w.top!==T){P=!0;const H=2*t[1];h.center=h.top-=H,h.bottom-=H+2}if(w.left!==q){P=!0;const H=2*t[0];h.middle=h.left-=H,h.right-=H+2}P===!0&&(w=De(h,g,i,a),he(w,h,g,i,a))}v={top:w.top+"px",left:w.left+"px"},w.maxHeight!==void 0&&(v.maxHeight=w.maxHeight+"px",h.height>w.maxHeight&&(v.minHeight=v.maxHeight)),w.maxWidth!==void 0&&(v.maxWidth=w.maxWidth+"px",h.width>w.maxWidth&&(v.minWidth=v.maxWidth)),Object.assign(o.style,v),o.scrollTop!==r&&(o.scrollTop=r),o.scrollLeft!==y&&(o.scrollLeft=y)}function he(e,n,o,t,l){const i=o.bottom,a=o.right,d=te(),c=window.innerHeight-d,u=document.body.clientWidth;if(e.top<0||e.top+i>c)if(l.vertical==="center")e.top=n[t.vertical]>c/2?Math.max(0,c-i):0,e.maxHeight=Math.min(i,c);else if(n[t.vertical]>c/2){const f=Math.min(c,t.vertical==="center"?n.center:t.vertical===l.vertical?n.bottom:n.top);e.maxHeight=Math.min(i,f),e.top=Math.max(0,f-i)}else e.top=Math.max(0,t.vertical==="center"?n.center:t.vertical===l.vertical?n.top:n.bottom),e.maxHeight=Math.min(i,c-e.top);if(e.left<0||e.left+a>u)if(e.maxWidth=Math.min(a,u),l.horizontal==="middle")e.left=n[t.horizontal]>u/2?Math.max(0,u-a):0;else if(n[t.horizontal]>u/2){const f=Math.min(u,t.horizontal==="middle"?n.middle:t.horizontal===l.horizontal?n.right:n.left);e.maxWidth=Math.min(a,f),e.left=Math.max(0,f-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?n.middle:t.horizontal===l.horizontal?n.left:n.right),e.maxWidth=Math.min(a,u-e.left)}const So=z({name:"QMenu",inheritAttrs:!1,props:{...Nt,...It,...ie,...ao,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qe},self:{type:String,validator:Qe},offset:{type:Array,validator:xo},scrollTarget:at,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Ut,"click","escapeKey"],setup(e,{slots:n,emit:o,attrs:t}){let l=null,i,a,d;const c=$(),{proxy:u}=c,{$q:f}=u,m=S(null),y=S(!1),r=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),h=ae(e,f),{registerTick:L,removeTick:_}=so(),{registerTimeout:C}=uo(),{transitionProps:s,transitionStyle:v}=ro(e),{localScrollTarget:g,changeScrollEvent:w,unconfigureScrollTarget:T}=Kt(e,Ee),{anchorEl:q,canShow:P}=jt({showing:y}),{hide:H}=Gt({showing:y,canShow:P,handleShow:gt,handleHide:bt,hideOnRouteChange:r,processOnMount:!0}),{showPortal:we,hidePortal:ye,renderPortal:ft}=io(c,m,wt,"menu"),re={anchorEl:q,innerRef:m,onClickOutside(p){if(e.persistent!==!0&&y.value===!0)return H(p),(p.type==="touchstart"||p.target.classList.contains("q-dialog__backdrop"))&&Ge(p),!0}},xe=b(()=>Fe(e.anchor||(e.cover===!0?"center middle":"bottom start"),f.lang.rtl)),vt=b(()=>e.cover===!0?xe.value:Fe(e.self||"top start",f.lang.rtl)),ht=b(()=>(e.square===!0?" q-menu--square":"")+(h.value===!0?" q-menu--dark q-dark":"")),mt=b(()=>e.autoClose===!0?{onClick:pt}:{}),qe=b(()=>y.value===!0&&e.persistent!==!0);B(qe,p=>{p===!0?(bo(ue),yo(re)):(Me(ue),Re(re))});function se(){Yt(()=>{let p=m.value;p&&p.contains(document.activeElement)!==!0&&(p=p.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||p.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||p.querySelector("[autofocus], [data-autofocus]")||p,p.focus({preventScroll:!0}))})}function gt(p){if(l=e.noRefocus===!1?document.activeElement:null,po(Se),we(),Ee(),i=void 0,p!==void 0&&(e.touchPosition||e.contextMenu)){const ce=zt(p);if(ce.left!==void 0){const{top:yt,left:xt}=q.value.getBoundingClientRect();i={left:ce.left-xt,top:ce.top-yt}}}a===void 0&&(a=B(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,I)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{I(),e.noFocus!==!0&&se()}),C(()=>{f.platform.is.ios===!0&&(d=e.autoClose,m.value.click()),I(),we(!0),o("show",p)},e.transitionDuration)}function bt(p){_(),ye(),ke(!0),l!==null&&(p===void 0||p.qClickOutside!==!0)&&(((p?.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),C(()=>{ye(!0),o("hide",p)},e.transitionDuration)}function ke(p){i=void 0,a!==void 0&&(a(),a=void 0),(p===!0||y.value===!0)&&(wo(Se),T(),Re(re),Me(ue)),p!==!0&&(l=null)}function Ee(){(q.value!==null||e.scrollTarget!==void 0)&&(g.value=rt(q.value,e.scrollTarget),w(g.value,I))}function pt(p){d!==!0?(it(u,p),o("click",p)):d=!1}function Se(p){qe.value===!0&&e.noFocus!==!0&&Bt(m.value,p.target)!==!0&&se()}function ue(p){e.noEscDismiss!==!0&&(o("escapeKey"),H(p))}function I(){ct({targetEl:m.value,offset:e.offset,anchorEl:q.value,anchorOrigin:xe.value,selfOrigin:vt.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function wt(){return x($t,s.value,()=>y.value===!0?x("div",{role:"menu",...t,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+ht.value,t.class],style:[t.style,v.value],...mt.value},D(n.default)):null)}return M(ke),Object.assign(u,{focus:se,updatePosition:I}),ft}}),Ve=z({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:n}){const o=b(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>x(e.tag,{class:o.value},D(n.default))}}),Oe=z({name:"QCard",props:{...ie,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:n}){const{proxy:{$q:o}}=$(),t=ae(e,o),l=b(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>x(e.tag,{class:l.value},D(n.default))}});function Bo(){const e=S(!Je.value);return e.value===!1&&F(()=>{e.value=!0}),{isHydrated:e}}const dt=typeof ResizeObserver<"u",Ne=dt===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},ge=z({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:n}){let o=null,t,l={width:-1,height:-1};function i(c){c===!0||e.debounce===0||e.debounce==="0"?a():o===null&&(o=setTimeout(a,e.debounce))}function a(){if(o!==null&&(clearTimeout(o),o=null),t){const{offsetWidth:c,offsetHeight:u}=t;(c!==l.width||u!==l.height)&&(l={width:c,height:u},n("resize",l))}}const{proxy:d}=$();if(d.trigger=i,dt===!0){let c;const u=f=>{t=d.$el.parentNode,t?(c=new ResizeObserver(i),c.observe(t),a()):f!==!0&&N(()=>{u(!0)})};return F(()=>{u()}),M(()=>{o!==null&&clearTimeout(o),c!==void 0&&(c.disconnect!==void 0?c.disconnect():t&&c.unobserve(t))}),Ze}else{let c=function(){o!==null&&(clearTimeout(o),o=null),m!==void 0&&(m.removeEventListener!==void 0&&m.removeEventListener("resize",i,j.passive),m=void 0)},u=function(){c(),t?.contentDocument&&(m=t.contentDocument.defaultView,m.addEventListener("resize",i,j.passive),a())};const{isHydrated:f}=Bo();let m;return F(()=>{N(()=>{t=d.$el,t&&u()})}),M(c),()=>{if(f.value===!0)return x("object",{class:"q--avoid-card-border",style:Ne.style,tabindex:-1,type:"text/html",data:Ne.url,"aria-hidden":"true",onLoad:u})}}}}),Co=z({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:o}){const{proxy:{$q:t}}=$(),l=et(pe,V);if(l===V)return console.error("QHeader needs to be child of QLayout"),V;const i=S(parseInt(e.heightHint,10)),a=S(!0),d=b(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||t.platform.is.ios&&l.isContainer.value===!0),c=b(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return a.value===!0?i.value:0;const s=i.value-l.scroll.value.position;return s>0?s:0}),u=b(()=>e.modelValue!==!0||d.value===!0&&a.value!==!0),f=b(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),m=b(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),y=b(()=>{const s=l.rows.value.top,v={};return s[0]==="l"&&l.left.space===!0&&(v[t.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),s[2]==="r"&&l.right.space===!0&&(v[t.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),v});function r(s,v){l.update("header",s,v)}function h(s,v){s.value!==v&&(s.value=v)}function L({height:s}){h(i,s),r("size",s)}function _(s){f.value===!0&&h(a,!0),o("focusin",s)}B(()=>e.modelValue,s=>{r("space",s),h(a,!0),l.animate()}),B(c,s=>{r("offset",s)}),B(()=>e.reveal,s=>{s===!1&&h(a,e.modelValue)}),B(a,s=>{l.animate(),o("reveal",s)}),B(l.scroll,s=>{e.reveal===!0&&h(a,s.direction==="up"||s.position<=e.revealOffset||s.position-s.inflectionPoint<100)});const C={};return l.instances.header=C,e.modelValue===!0&&r("size",i.value),r("space",e.modelValue),r("offset",c.value),M(()=>{l.instances.header===C&&(l.instances.header=void 0,r("size",0),r("offset",0),r("space",!1))}),()=>{const s=ot(n.default,[]);return e.elevated===!0&&s.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(x(ge,{debounce:0,onResize:L})),x("header",{class:m.value,style:y.value,onFocusin:_},s)}}}),To=z({name:"QPageContainer",setup(e,{slots:n}){const{proxy:{$q:o}}=$(),t=et(pe,V);if(t===V)return console.error("QPageContainer needs to be child of QLayout"),V;tt(Ht,!0);const l=b(()=>{const i={};return t.header.space===!0&&(i.paddingTop=`${t.header.size}px`),t.right.space===!0&&(i[`padding${o.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(i.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(i[`padding${o.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),i});return()=>x("div",{class:"q-page-container",style:l.value},D(n.default))}}),{passive:je}=j,_o=["both","horizontal","vertical"],Lo=z({name:"QScrollObserver",props:{axis:{type:String,validator:e=>_o.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:at},emits:["scroll"],setup(e,{emit:n}){const o={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,l,i;B(()=>e.scrollTarget,()=>{c(),d()});function a(){t?.();const m=Math.max(0,fo(l)),y=vo(l),r={top:m-o.position.top,left:y-o.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const h=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";o.position={top:m,left:y},o.directionChanged=o.direction!==h,o.delta=r,o.directionChanged===!0&&(o.direction=h,o.inflectionPoint=o.position),n("scroll",{...o})}function d(){l=rt(i,e.scrollTarget),l.addEventListener("scroll",u,je),u(!0)}function c(){l!==void 0&&(l.removeEventListener("scroll",u,je),l=void 0)}function u(m){if(m===!0||e.debounce===0||e.debounce==="0")a();else if(t===null){const[y,r]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];t=()=>{r(y),t=null}}}const{proxy:f}=$();return B(()=>f.$q.lang.rtl,a),F(()=>{i=f.$el.parentNode,d()}),M(()=>{t?.(),c()}),Object.assign(f,{trigger:u,getPosition:()=>o}),Ze}}),Po=z({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:n,emit:o}){const{proxy:{$q:t}}=$(),l=S(null),i=S(t.screen.height),a=S(e.container===!0?0:t.screen.width),d=S({position:0,direction:"down",inflectionPoint:0}),c=S(0),u=S(Je.value===!0?0:te()),f=b(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),m=b(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),y=b(()=>u.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),r=b(()=>u.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function h(g){if(e.container===!0||document.qScrollPrevented!==!0){const w={position:g.position.top,direction:g.direction,directionChanged:g.directionChanged,inflectionPoint:g.inflectionPoint.top,delta:g.delta.top};d.value=w,e.onScroll!==void 0&&o("scroll",w)}}function L(g){const{height:w,width:T}=g;let q=!1;i.value!==w&&(q=!0,i.value=w,e.onScrollHeight!==void 0&&o("scrollHeight",w),C()),a.value!==T&&(q=!0,a.value=T),q===!0&&e.onResize!==void 0&&o("resize",g)}function _({height:g}){c.value!==g&&(c.value=g,C())}function C(){if(e.container===!0){const g=i.value>c.value?te():0;u.value!==g&&(u.value=g)}}let s=null;const v={instances:{},view:b(()=>e.view),isContainer:b(()=>e.container),rootRef:l,height:i,containerHeight:c,scrollbarWidth:u,totalWidth:b(()=>a.value+u.value),rows:b(()=>{const g=e.view.toLowerCase().split(" ");return{top:g[0].split(""),middle:g[1].split(""),bottom:g[2].split("")}}),header:Y({size:0,offset:0,space:!1}),right:Y({size:300,offset:0,space:!1}),footer:Y({size:0,offset:0,space:!1}),left:Y({size:300,offset:0,space:!1}),scroll:d,animate(){s!==null?clearTimeout(s):document.body.classList.add("q-body--layout-animate"),s=setTimeout(()=>{s=null,document.body.classList.remove("q-body--layout-animate")},155)},update(g,w,T){v[g][w]=T}};if(tt(pe,v),te()>0){let g=function(){q=null,P.classList.remove("hide-scrollbar")},w=function(){if(q===null){if(P.scrollHeight>t.screen.height)return;P.classList.add("hide-scrollbar")}else clearTimeout(q);q=setTimeout(g,300)},T=function(H){q!==null&&H==="remove"&&(clearTimeout(q),g()),window[`${H}EventListener`]("resize",w)},q=null;const P=document.body;B(()=>e.container!==!0?"add":"remove",T),e.container!==!0&&T("add"),Xe(()=>{T("remove")})}return()=>{const g=Qt(n.default,[x(Lo,{onScroll:h}),x(ge,{onResize:L})]),w=x("div",{class:f.value,style:m.value,ref:e.container===!0?void 0:l,tabindex:-1},g);return e.container===!0?x("div",{class:"q-layout-container overflow-hidden",ref:l},[x(ge,{onResize:_}),x("div",{class:"absolute-full",style:y.value},[x("div",{class:"scroll",style:r.value},[w])])]):w}}});function Ke(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const n=parseInt(e,10);return isNaN(n)?0:n}const zo=Mt({name:"close-popup",beforeMount(e,{value:n}){const o={depth:Ke(n),handler(t){o.depth!==0&&setTimeout(()=>{const l=oo(e);l!==void 0&&no(l,t,o.depth)})},handlerKey(t){le(t,13)===!0&&o.handler(t)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:n,oldValue:o}){n!==o&&(e.__qclosepopup.depth=Ke(n))},beforeUnmount(e){const n=e.__qclosepopup;e.removeEventListener("click",n.handler),e.removeEventListener("keyup",n.handlerKey),delete e.__qclosepopup}});class $o{state;constructor(){this.state=this.initialize()}initialize(){const n=Array.from({length:4},()=>Array.from({length:4},()=>0));return this.addRandomBox(n),this.addRandomBox(n),{board:n,score:0}}addRandomBox(n){const o=[];for(let t=0;t<4;t++)for(let l=0;l<4;l++)n[t]?.[l]===0&&o.push([t,l]);if(o.length>0){const t=Math.floor(Math.random()*o.length);if(o[t]!==void 0){const[l,i]=o[t];n[l]?.[i]!==void 0&&(n[l][i]=Math.random()<.9?2:4)}}else console.log("Game Over!")}refreshBoard(n){for(let o=0;o<4;o++)for(let t=0;t<4;t++){const l=n[o*4+t],i=this.state.board[t]?.[o];l?.n!==void 0&&i!==void 0&&(l.n=i,l.color=nt[i])}}doMoves(n,o){console.log("keydown"),window.addEventListener("keydown",t=>{switch(t.key){case"ArrowUp":this.moveUp(n);break;case"ArrowDown":this.moveDown(n);break;case"ArrowLeft":this.moveLeft(n);break;case"ArrowRight":this.moveRight(n);break}o.value<this.state.score&&(o.value=this.state.score)})}moveLeft(n){const o=[[],[],[],[]];for(let t=0;t<4;t++){let l=-1;for(let i=0;i<4;i++)this.state.board[t]?.[i]!==0&&(l===this.state.board[t]?.[i]?(o[t][o[t].length-1]*=2,this.state.score+=2*l):o[t].push(this.state.board[t]?.[i]),l=this.state.board[t]?.[i])}for(let t=0;t<4;t++)for(let l=0;l<4;l++)o[t]?.[l]===void 0&&o[t]?.push(0);Z(o,this.state.board)||(this.state.board=o,this.addRandomBox(this.state.board),this.refreshBoard(n))}moveRight(n){const o=[[],[],[],[]];for(let t=0;t<4;t++){let l=-1;for(let i=3;i>=0;i--)this.state.board[t]?.[i]!==0&&(l===this.state.board[t]?.[i]?(o[t][0]*=2,this.state.score+=2*l):o[t].splice(0,0,this.state.board[t]?.[i]),l=this.state.board[t]?.[i])}for(let t=0;t<4;t++)for(let l=0;l<4;l++)o[t]?.[l]===void 0&&o[t]?.splice(0,0,0);Z(o,this.state.board)||(this.state.board=o,this.addRandomBox(this.state.board),this.refreshBoard(n))}moveUp(n){let o=[[],[],[],[]];for(let t=0;t<4;t++){let l=-1;for(let i=0;i<4;i++)this.state.board[i]?.[t]!==0&&(l===this.state.board[i]?.[t]?(o[t][o[t].length-1]*=2,this.state.score+=2*l):o[t].push(this.state.board[i]?.[t]),l=this.state.board[i]?.[t])}for(let t=0;t<4;t++)for(let l=0;l<4;l++)o[t]?.[l]===void 0&&o[t]?.push(0);o=Ie(o),Z(o,this.state.board)||(this.state.board=o,this.addRandomBox(this.state.board),this.refreshBoard(n))}moveDown(n){let o=[[],[],[],[]];for(let t=0;t<4;t++){let l=-1;for(let i=3;i>=0;i--)this.state.board[i]?.[t]!==0&&(l===this.state.board[i]?.[t]?(o[t][0]*=2,this.state.score+=2*l):o[t].splice(0,0,this.state.board[i]?.[t]),l=this.state.board[i]?.[t])}for(let t=0;t<4;t++)for(let l=0;l<4;l++)o[l]?.[t]===void 0&&o[l]?.splice(0,0,0);o=Ie(o),Z(o,this.state.board)||(this.state.board=o,this.addRandomBox(this.state.board),this.refreshBoard(n))}}function Z(e,n){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){if(e[o].length!==n[o].length)return!1;for(let t=0;t<e[o].length;t++)if(e[o][t]!==n[o][t])return!1}return!0}function Ie(e){const n=[[],[],[],[]];for(let o=0;o<e.length;o++)for(let t=0;t<e[o].length;t++)n[t].push(e[o]?.[t]);return n}const Ho={class:"row items-center justify-around"},Mo={class:"col-3 row justify-center"},Ro={class:"col-3 row items-center justify-center"},Ao={class:"col-3 row justify-center"},Vo=Rt({__name:"MainLayout",setup(e){const n=S(0),o=S(new $o),t=S({b:!0,boxarr:[...Array(16).keys()].map(i=>({id:i,x:10+150*(i/4|0),y:10+150*(i%4),n:i%2?2:0,t:!0,color:nt[i%2?2:0]}))});o.value.refreshBoard(t.value.boxarr),F(()=>{o.value.doMoves(t.value.boxarr,n)});function l(){o.value.state=o.value.initialize(),o.value.refreshBoard(t.value.boxarr)}return(i,a)=>{const d=At("router-view");return ze(),Pe(Po,null,{default:k(()=>[E(Co,null,{default:k(()=>[R("div",Ho,[R("div",Mo,[E(Ce,{"col-3":"",id:"menu-button",flat:"",dense:"",rounded:""},{default:k(()=>[E(Ct,{name:"menu",size:"40px",style:{padding:"10px"}}),a[3]||(a[3]=U(" 2048 ")),E(So,null,{default:k(()=>[Wt((ze(),Pe(Dt,null,{default:k(()=>[E(ve,{clickable:"",to:"#"},{default:k(()=>[E(fe,null,{default:k(()=>[E(de,null,{default:k(()=>a[0]||(a[0]=[U("1")])),_:1})]),_:1})]),_:1}),E(ve,{clickable:"",to:"/"},{default:k(()=>[E(fe,null,{default:k(()=>[E(de,null,{default:k(()=>a[1]||(a[1]=[U("2")])),_:1})]),_:1})]),_:1}),E(ve,{clickable:"",to:""},{default:k(()=>[E(fe,null,{default:k(()=>[E(de,null,{default:k(()=>a[2]||(a[2]=[U("3")])),_:1})]),_:1})]),_:1})]),_:1})),[[zo]])]),_:1})]),_:1})]),R("div",Ro,[E(Oe,{flat:"",class:"q-px-xl q-mr-xs",style:{"border-radius":"30px","background-color":"#E9E7DA",color:"#958978","font-weight":"1000"}},{default:k(()=>[E(Ve,{class:"column items-center"},{default:k(()=>[a[4]||(a[4]=R("div",null,"Score",-1)),R("div",null,$e(o.value.state.score),1)]),_:1})]),_:1}),E(Oe,{flat:"",bordered:"",class:"q-px-xl q-ml-xs",style:{"border-radius":"30px","background-color":"#FAF8F1","border-color":"#ECEADD","border-width":"3px","font-weight":"1000"}},{default:k(()=>[E(Ve,{class:"column items-center"},{default:k(()=>[a[5]||(a[5]=R("div",null,"Best",-1)),R("div",null,$e(n.value),1)]),_:1})]),_:1})]),R("div",Ao,[E(Ce,{id:"new-game-button",onClick:l},{default:k(()=>a[6]||(a[6]=[U(" New Game ")])),_:1})])])]),_:1}),E(To,null,{default:k(()=>[E(d,{gm2048:o.value,boxarr:t.value},null,8,["gm2048","boxarr"])]),_:1})]),_:1})}}});export{Vo as default};
