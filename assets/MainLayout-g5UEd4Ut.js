import{g as le,c as M,Q as A,a as ie}from"./QBtn-L7-x9zmW.js";import{c as f,a as _,g as $,h as g,r as b,i as J,o as E,b as O,n as Z,d as I,l as N,e as ee,f as T,w as C,j as F,p as te,k as re,m as P,q as ae,s as se,t as ue,u as L,v as U,x as ce,y as x,z as de,A as Q,B as K}from"./index-BG2SrH2i.js";import{h as ne,a as fe,b as ve}from"./render-DjSmuU3c.js";const he={dark:{type:Boolean,default:null}};function me(e,u){return f(()=>e.dark===null?u.dark.isActive:e.dark)}const X=_({name:"QCard",props:{...he,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:u}){const{proxy:{$q:n}}=$(),t=me(e,n),o=f(()=>"q-card"+(t.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>g(e.tag,{class:o.value},ne(u.default))}});function ge(){const e=b(!J.value);return e.value===!1&&E(()=>{e.value=!0}),{isHydrated:e}}const oe=typeof ResizeObserver<"u",Y=oe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},W=_({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:u}){let n=null,t,o={width:-1,height:-1};function c(i){i===!0||e.debounce===0||e.debounce==="0"?r():n===null&&(n=setTimeout(r,e.debounce))}function r(){if(n!==null&&(clearTimeout(n),n=null),t){const{offsetWidth:i,offsetHeight:a}=t;(i!==o.width||a!==o.height)&&(o={width:i,height:a},u("resize",o))}}const{proxy:v}=$();if(v.trigger=c,oe===!0){let i;const a=p=>{t=v.$el.parentNode,t?(i=new ResizeObserver(c),i.observe(t),r()):p!==!0&&I(()=>{a(!0)})};return E(()=>{a()}),O(()=>{n!==null&&clearTimeout(n),i!==void 0&&(i.disconnect!==void 0?i.disconnect():t&&i.unobserve(t))}),Z}else{let i=function(){n!==null&&(clearTimeout(n),n=null),h!==void 0&&(h.removeEventListener!==void 0&&h.removeEventListener("resize",c,N.passive),h=void 0)},a=function(){i(),t?.contentDocument&&(h=t.contentDocument.defaultView,h.addEventListener("resize",c,N.passive),r())};const{isHydrated:p}=ge();let h;return E(()=>{I(()=>{t=v.$el,t&&a()})}),O(i),()=>{if(p.value===!0)return g("object",{class:"q--avoid-card-border",style:Y.style,tabindex:-1,type:"text/html",data:Y.url,"aria-hidden":"true",onLoad:a})}}}}),be=_({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:u,emit:n}){const{proxy:{$q:t}}=$(),o=ee(F,T);if(o===T)return console.error("QHeader needs to be child of QLayout"),T;const c=b(parseInt(e.heightHint,10)),r=b(!0),v=f(()=>e.reveal===!0||o.view.value.indexOf("H")!==-1||t.platform.is.ios&&o.isContainer.value===!0),i=f(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return r.value===!0?c.value:0;const l=c.value-o.scroll.value.position;return l>0?l:0}),a=f(()=>e.modelValue!==!0||v.value===!0&&r.value!==!0),p=f(()=>e.modelValue===!0&&a.value===!0&&e.reveal===!0),h=f(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(a.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=f(()=>{const l=o.rows.value.top,y={};return l[0]==="l"&&o.left.space===!0&&(y[t.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),l[2]==="r"&&o.right.space===!0&&(y[t.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),y});function d(l,y){o.update("header",l,y)}function w(l,y){l.value!==y&&(l.value=y)}function k({height:l}){w(c,l),d("size",l)}function R(l){p.value===!0&&w(r,!0),n("focusin",l)}C(()=>e.modelValue,l=>{d("space",l),w(r,!0),o.animate()}),C(i,l=>{d("offset",l)}),C(()=>e.reveal,l=>{l===!1&&w(r,e.modelValue)}),C(r,l=>{o.animate(),n("reveal",l)}),C(o.scroll,l=>{e.reveal===!0&&w(r,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const H={};return o.instances.header=H,e.modelValue===!0&&d("size",c.value),d("space",e.modelValue),d("offset",i.value),O(()=>{o.instances.header===H&&(o.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const l=fe(u.default,[]);return e.elevated===!0&&l.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(g(W,{debounce:0,onResize:k})),g("header",{class:h.value,style:S.value,onFocusin:R},l)}}}),pe=_({name:"QPageContainer",setup(e,{slots:u}){const{proxy:{$q:n}}=$(),t=ee(F,T);if(t===T)return console.error("QPageContainer needs to be child of QLayout"),T;te(re,!0);const o=f(()=>{const c={};return t.header.space===!0&&(c.paddingTop=`${t.header.size}px`),t.right.space===!0&&(c[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(c.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(c[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),c});return()=>g("div",{class:"q-page-container",style:o.value},ne(u.default))}}),ye=[Element,String],we=[null,document,document.body,document.scrollingElement,document.documentElement];function ze(e,u){let n=le(u);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return we.includes(n)?window:n}function xe(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Se(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let B;function D(){if(B!==void 0)return B;const e=document.createElement("p"),u=document.createElement("div");M(e,{width:"100%",height:"200px"}),M(u,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),u.appendChild(e),document.body.appendChild(u);const n=e.offsetWidth;u.style.overflow="scroll";let t=e.offsetWidth;return n===t&&(t=u.clientWidth),u.remove(),B=n-t,B}const{passive:G}=N,qe=["both","horizontal","vertical"],Le=_({name:"QScrollObserver",props:{axis:{type:String,validator:e=>qe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:ye},emits:["scroll"],setup(e,{emit:u}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,o,c;C(()=>e.scrollTarget,()=>{i(),v()});function r(){t?.();const h=Math.max(0,xe(o)),S=Se(o),d={top:h-n.position.top,left:S-n.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const w=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";n.position={top:h,left:S},n.directionChanged=n.direction!==w,n.delta=d,n.directionChanged===!0&&(n.direction=w,n.inflectionPoint=n.position),u("scroll",{...n})}function v(){o=ze(c,e.scrollTarget),o.addEventListener("scroll",a,G),a(!0)}function i(){o!==void 0&&(o.removeEventListener("scroll",a,G),o=void 0)}function a(h){if(h===!0||e.debounce===0||e.debounce==="0")r();else if(t===null){const[S,d]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];t=()=>{d(S),t=null}}}const{proxy:p}=$();return C(()=>p.$q.lang.rtl,r),E(()=>{c=p.$el.parentNode,v()}),O(()=>{t?.(),i()}),Object.assign(p,{trigger:a,getPosition:()=>n}),Z}}),Ce=_({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:u,emit:n}){const{proxy:{$q:t}}=$(),o=b(null),c=b(t.screen.height),r=b(e.container===!0?0:t.screen.width),v=b({position:0,direction:"down",inflectionPoint:0}),i=b(0),a=b(J.value===!0?0:D()),p=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),h=f(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),S=f(()=>a.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${a.value}px`}:null),d=f(()=>a.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${a.value}px`,width:`calc(100% + ${a.value}px)`}:null);function w(s){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:s.position.top,direction:s.direction,directionChanged:s.directionChanged,inflectionPoint:s.inflectionPoint.top,delta:s.delta.top};v.value=m,e.onScroll!==void 0&&n("scroll",m)}}function k(s){const{height:m,width:q}=s;let z=!1;c.value!==m&&(z=!0,c.value=m,e.onScrollHeight!==void 0&&n("scrollHeight",m),H()),r.value!==q&&(z=!0,r.value=q),z===!0&&e.onResize!==void 0&&n("resize",s)}function R({height:s}){i.value!==s&&(i.value=s,H())}function H(){if(e.container===!0){const s=c.value>i.value?D():0;a.value!==s&&(a.value=s)}}let l=null;const y={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:o,height:c,containerHeight:i,scrollbarWidth:a,totalWidth:f(()=>r.value+a.value),rows:f(()=>{const s=e.view.toLowerCase().split(" ");return{top:s[0].split(""),middle:s[1].split(""),bottom:s[2].split("")}}),header:P({size:0,offset:0,space:!1}),right:P({size:300,offset:0,space:!1}),footer:P({size:0,offset:0,space:!1}),left:P({size:300,offset:0,space:!1}),scroll:v,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(s,m,q){y[s][m]=q}};if(te(F,y),D()>0){let s=function(){z=null,V.classList.remove("hide-scrollbar")},m=function(){if(z===null){if(V.scrollHeight>t.screen.height)return;V.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(s,300)},q=function(j){z!==null&&j==="remove"&&(clearTimeout(z),s()),window[`${j}EventListener`]("resize",m)},z=null;const V=document.body;C(()=>e.container!==!0?"add":"remove",q),e.container!==!0&&q("add"),ae(()=>{q("remove")})}return()=>{const s=ve(u.default,[g(Le,{onScroll:w}),g(W,{onResize:k})]),m=g("div",{class:p.value,style:h.value,ref:e.container===!0?void 0:o,tabindex:-1},s);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:o},[g(W,{onResize:R}),g("div",{class:"absolute-full",style:S.value},[g("div",{class:"scroll",style:d.value},[m])])]):m}}}),Te={class:"row items-center justify-between"},Pe=se({__name:"MainLayout",setup(e){const u=b(0),n=b(0),t=b(!1);function o(){t.value=!t.value}return(c,r)=>{const v=U("q-container"),i=U("router-view");return ce(),ue(Ce,null,{default:L(()=>[x(be,null,{default:L(()=>[de("div",Te,[x(A,{id:"menu-button",flat:"",dense:"",rounded:"",onClick:o},{default:L(()=>[x(ie,{name:"menu",size:"40px",style:{padding:"10px"}}),r[0]||(r[0]=Q(" 2048 "))]),_:1}),x(v,{class:"row"},{default:L(()=>[x(X,{flat:""},{default:L(()=>[Q("Score "+K(u.value),1)]),_:1}),x(X,{flat:""},{default:L(()=>[Q("Best "+K(n.value),1)]),_:1})]),_:1}),x(A,{id:"new-game-button",flat:""},{default:L(()=>r[1]||(r[1]=[Q(" New Game ")])),_:1})])]),_:1}),x(pe,null,{default:L(()=>[x(i)]),_:1})]),_:1})}}});export{Pe as default};
